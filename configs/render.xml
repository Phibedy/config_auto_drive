<framework>
	<modulesToEnable>
		<module logLevel="WARN">ogre_window_manager</module>
		<module logLevel="WARN">image_renderer_grey</module>
		<module logLevel="WARN">image_renderer_debug</module>
                <module logLevel="WARN">image_renderer_global_car</module>
                <module logLevel="WARN">car_to_image</module>
            <module logLevel="ERROR">image_object_renderer</module>
                <module logLevel="WARN">image_renderer_image_object</module>
		<module logLevel="WARN">image_converter_trans</module>
                <module logLevel="WARN">image_renderer_trans</module>
                <module logLevel="WARN">ogre_input</module>
		<module logLevel="WARN">ogre_input_WINDOW</module>
	</modulesToEnable>
	<module>
		<name>image_object_renderer</name>
		<channelMapping from="IMAGE" to="IMAGE_OBJECT_IMAGE"/>
		<config>
            <environments>ENVIRONMENT_ROAD_MERGED,ENVIRONMENT_ROAD_FILTERED</environments>
                    <polylines>TRAJECTORY_LINE,SENSOR_LINE</polylines>
		    <vertex2f></vertex2f>
		    <vertex4f>TRAJECTORY_POINT</vertex4f>
		    <!--The default Color, TODO add colors for points, lines etc -->
		    <colorR>255</colorR>
		    <colorG>255</colorG>
		    <colorB>0</colorB>
		</config>
		<config name="ENVIRONMENT_ROAD_MERGED">
		    <colorR>255</colorR>
		    <colorG>123</colorG>
		    <colorB>120</colorB>
		</config>
		<config name="ENVIRONMENT_ROAD_FILTERED">
		    <colorR>0</colorR>
		    <colorG>0</colorG>
		    <colorB>255</colorB>
		</config>
		<config name="OBSTACLE">
		    <colorR>50</colorR>
		    <colorG>200</colorG>
		    <colorB>100</colorB>
		</config>
		<config name="TRAJECTORY_LINE">
		    <colorR>255</colorR>
		    <colorG>255</colorG>
		    <colorB>0</colorB>
		</config>
		<config name="TRAJECTORY_POINT">
		    <colorR>255</colorR>
		    <colorG>0</colorG>
		    <colorB>0</colorB>
		</config>
	    <config name="SENSOR_LINE">
		    <colorR>255</colorR>
		    <colorG>0</colorG>
		    <colorB>123</colorB>
		</config>
	</module>
	<module>
		<name>ogre_window_manager</name>
		<executionType>ONLY_MAIN_THREAD</executionType>
	</module>
        <module>
                <name>car_to_image</name>
                <executionType>ONLY_MAIN_THREAD</executionType>
                <channelMapping from="IMAGE" to = "GLOBAL_CAR_IMAGE"/>
        </module>
        <module>
                <name>image_renderer_global_car</name>
                <executionType>ONLY_MAIN_THREAD</executionType>
                <realName>image_renderer</realName>
                <channelMapping from="IMAGE" to="GLOBAL_CAR_IMAGE"/>
                <config>
                    <WINDOW>GLOBAL_CAR</WINDOW>
                </config>
        </module>
        <module>
                <name>image_converter_trans</name>
                <realName>image_converter</realName>
            <channelMapping from="INPUT_IMAGE" to="GREY_IMAGE"/>
            <channelMapping from="OUTPUT_IMAGE" to="TRANS_IMAGE"/>
            <config>
                    <filter>imageV2C</filter>
            </config>
        </module>
	<module>
		<name>image_renderer_grey</name>
		<executionType>ONLY_MAIN_THREAD</executionType>
		<realName>image_renderer</realName>
                <channelMapping from="IMAGE" to="GREY_IMAGE"/>
	</module>
	<module>
		<name>image_renderer_debug</name>
		<executionType>ONLY_MAIN_THREAD</executionType>
		<writePriority>2</writePriority>
		<realName>image_renderer</realName>
		<channelMapping from="IMAGE" to="DEBUG_IMAGE"/>
	</module>
	<module>
	    <name>image_renderer_trans</name>
		<executionType>ONLY_MAIN_THREAD</executionType>
		<writePriority>1</writePriority>
		<realName>image_renderer</realName>
		<channelMapping from="IMAGE" to="TRANS_IMAGE"/>
		<config>
		    <WINDOW>TRANSLATED</WINDOW>
		</config>
	</module>
	<module>
		<name>image_renderer_image_object</name>
		<executionType>ONLY_MAIN_THREAD</executionType>
		<writePriority>2</writePriority>
		<realName>image_renderer</realName>
		<channelMapping from="IMAGE" to="IMAGE_OBJECT_IMAGE"/>
		<config>
		    <WINDOW>TRANSLATED</WINDOW>
		</config>
	</module>
	<module>
		<name>ogre_input</name>
		<executionType>ONLY_MAIN_THREAD</executionType>
		<config>
			<WINDOW>TRANSLATED</WINDOW>
			<key>
				<down>
					<Left>
                        <command>image_proxy</command>
                        <content>previousImage</content>
						<repeat>true</repeat>
					</Left>
					<Right>
                        <command>image_proxy</command>
                        <content>nextImage</content>
						<repeat>true</repeat>
					</Right>
					<space>
                        <command>image_proxy</command>
                        <content>togglePlayMode</content>
					</space>
                    <m>
                        <command>image_proxy</command>
                        <content>changeDisplayMode</content>
                    </m>
				</down>
			</key>
		</config>
	</module>
	<module>
		<name>ogre_input_WINDOW</name>
		<realName>ogre_input</realName>
		<config>
			<WINDOW>WINDOW</WINDOW>
            <key>
                <down>
                    <Left>
                        <command>image_proxy</command>
                        <content>previousImage</content>
                        <repeat>true</repeat>
                    </Left>
                    <Right>
                        <command>image_proxy</command>
                        <content>nextImage</content>
                        <repeat>true</repeat>
                    </Right>
                    <space>
                        <command>image_proxy</command>
                        <content>togglePlayMode</content>
                    </space>
                    <m>
                        <command>image_proxy</command>
                        <content>changeDisplayMode</content>
                    </m>
                </down>
            </key>
		</config>
	</module>
</framework>
