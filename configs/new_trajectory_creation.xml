<lms>
    <if set="start_lidar">
        <module name="hokuyo_lidar_importer" lib="hokuyo_lidar_importer" class="HokuyoLidarImporter">
            <channelMapping from="NEW_DATA" to="NEW_HOKYUO_LIDAR_DATA"/>
            <channelMapping from="HOKUYO_LIDAR_DATA" to="HOKUYO_LIDAR_DATA"/>
            <config>
                <xOffsetFromOriginMeter>0.06</xOffsetFromOriginMeter>
                <yOffsetFromOriginMeter>0</yOffsetFromOriginMeter>
                <startAtDeg>-119</startAtDeg>
                <stopAtDeg>119</stopAtDeg>
                <deviceFile>/dev/ttyACM0</deviceFile>
            </config>
        </module>
        <module name="obstacles_from_points" lib="obstacles_from_points" class="ObstaclesFromPoints">
            <channelMapping from="NEW_DATA" to="NEW_HOKYUO_LIDAR_DATA"/>
            <channelMapping from="POINT_CLOUD" to="HOKUYO_LIDAR_DATA"/>
            <channelMapping from="CENTER_LINE" to="MIDDLE_LANE"/>
            <channelMapping from="CULLED_POINT_CLOUD" to="CULLED_HOKUYO_LIDAR_DATA"/>
            <channelMapping from="OBSTACLES" to="BOUNDED_OBSTACLES"/>
            <config>
                <laneWidthMeter>0.4</laneWidthMeter>
                <obstacleDistanceThresholdMeter>0.04</obstacleDistanceThresholdMeter>
                <obstaclePointThreshold>10</obstaclePointThreshold>
                <obstaclePointMinXOffsetFront>0.25</obstaclePointMinXOffsetFront>
                <obstaclePointMinXOffsetBack>0.1</obstaclePointMinXOffsetBack>
                <obstaclePointMinYOffsetLeft>0.1</obstaclePointMinYOffsetLeft>
                <obstaclePointMinYOffsetRight>0.1</obstaclePointMinYOffsetRight>
                <maxObstacleTranslate>0.6</maxObstacleTranslate>
            </config>
        </module>
    </if>
    <module name="road_analyzer" lib="road_analyzer" class="RoadAnalyzer">
        <channelMapping from="CENTER_LINE" to="MIDDLE_LANE"/>
        <channelMapping from="OBSTACLES" to="BOUNDED_OBSTACLES"/>
        <channelMapping from="ROADMATRIX" to="ROADMATRIX"/>
        <channelMapping from="NEGATIVE_CENTER_LINE" to="NEGATIVE_CENTER_LINE"/>
        <config>
            <laneWidth>0.4</laneWidth>
            <cellsPerLane>4</cellsPerLane>
            <cellLength>0.1</cellLength>
            <maxTranslation>0.5</maxTranslation>
            <minDeltaXPose>0.01</minDeltaXPose>
        </config>
    </module>
    <module name="trajectory_from_roadmatrix" lib="trajectory_from_roadmatrix" class="TrajectoryFromRoadmatrix">
        <channelMapping from="ROADMATRIX" to="ROADMATRIX"/>
        <channelMapping priority="10" from="TRAJECTORY" to="TRAJECTORY_LINE"/>
        <config>
            <carWidthMeter>0.4</carWidthMeter>
            <obstacleClearanceLeftFrontMeter>1.0</obstacleClearanceLeftFrontMeter>
            <obstacleClearanceRightFrontMeter>0.5</obstacleClearanceRightFrontMeter>
            <obstacleClearanceLeftBackMeter>0.5</obstacleClearanceLeftBackMeter>
            <obstacleClearanceRightBackMeter>0.5</obstacleClearanceRightBackMeter>
        </config>
    </module>
</lms>
