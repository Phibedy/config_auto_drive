<framework>
    <execution>
        <mainThread />
    </execution>
    <if set="files">
        <modulesToEnable>
            <module>image_loader</module>
        </modulesToEnable>
        <module>
            <name>image_loader</name>
            <channelMapping from="IMAGE" to="GREY_IMAGE_PRE" />
            <config>
                <directory>img/20151212-211420</directory>
                <!--<directory>/home/phibedy/CC2016/img/20151212-211050</directory>-->
                <format>pgm</format>
                <filePattern>%04i.pgm</filePattern>
                <minCounter>200</minCounter>
                <maxCounter>-1</maxCounter>
                <loadSingleFile>false</loadSingleFile>
                <singleFile>/tmp/test.pgm</singleFile>
            </config>
        </module>
    </if>
    <if notSet="files">
        <modulesToEnable>
            <module logLevel="WARN">ximea_importer</module>
            <!--module logLevel="WARN">camera_importer</module-->
            <!--module logLevel="ERROR">ueye_importer</module-->
            <module logLevel="ERROR">image_converter</module>
            <if set="image_logger">
                <module logLevel="ERROR">image_logger</module>
            </if>
        </modulesToEnable>
        <module>
            <name>image_logger</name>
            <channelMapping from="IMAGE" to="GREY_IMAGE"/>
            <config user="hans">
                <directory>/home/hans/workspace/config_auto_drive/test_images</directory>
            </config>
            <config user="phibedy">
                <directory>/home/phibedy/Dokumente/programmieren/c++/lms_repos/config_auto_drive/test_images</directory>
            </config>
            <config user="odroid">
                <directory>/home/odroid/data/img</directory>
            </config>
            <config>
                <create_subfolder_with_current_date>true</create_subfolder_with_current_date>
                <filepattern>%04i</filepattern>
            </config>
        </module>
        <module>
            <name>camera_importer</name>
            <config src="camera_importer.lconf"/>
        </module>
        <module>
            <name>ueye_importer</name>
            <channelMapping from="CAMERA_IMAGE" to="IMAGE" />
            <config src="camera/ueye_small.lconf" />
            <config>
                <initTimeout>2000</initTimeout>
            </config>
        </module>
        <module>
            <name>image_converter</name>
            <channelMapping from="INPUT_IMAGE" to="IMAGE"/>
            <channelMapping from="OUTPUT_IMAGE" to="GREY_IMAGE_PRE"/>
            <config>
                <output_format>GREY</output_format>
            </config>
        </module>
        <module>
            <name>ximea_importer</name>
            <config>
                <exposure>4000</exposure>
            </config>
        </module>
    </if>
    <include src="basis.xml" />
    <if notSet="norender">
        <include src="render.xml"/>
    </if>
</framework>
