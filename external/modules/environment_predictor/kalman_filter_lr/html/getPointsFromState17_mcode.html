<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="16,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T8U3">x</span>, <span class="var type1" id="S3T8U4">y</span>] = getPointsFromState(<span class="var type1" id="S4T2U7">r</span>, <span class="var type1" id="S5T3U8">delta</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="16,2" id="srcline2"> 2</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="16,3" id="srcline3"> 3</a></span><span class="line"><span class="mxinfo " id="T4:U5"><span class="var type1" id="S6T4U11">P</span> = <span class="mxinfo " id="T4:U7">zeros(<span class="mxinfo " id="T3:U8">numel(<span class="var type1" id="S4T2U16">r</span>)</span>, <span class="mxinfo " id="T3:U10">3</span>)</span></span>; <span class="comment">%x, y, phi</span></span></span>
<span class="srcline"><span class="lineno"><a href="16,4" id="srcline4"> 4</a></span><span class="line"><span class="mxinfo " id="T3:U11"><span class="var type1" id="S9T3U20">phi</span> = <span class="mxinfo " id="T3:U13"><span class="var type1" id="S4T2U22">r</span>(<span class="mxinfo " id="T3:U15">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="16,5" id="srcline5"> 5</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="16,6" id="srcline6"> 6</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S10T3U26">s</span>=<span class="mxinfo " id="T3:U17">1</span>:numel(<span class="var type1" id="S4T2U31">r</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="16,7" id="srcline7"> 7</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T5:U19"><span class="var type1" id="S10T3U35">s</span>==<span class="mxinfo " id="T3:U21">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="16,8" id="srcline8"> 8</a></span><span class="line">        <span class="mxinfo " id="T3:U22"><span class="mxinfo " id="T3:U23"><span class="var type1" id="S6T4U40">P</span>(<span class="var type1" id="S10T3U41">s</span>, <span class="mxinfo " id="T3:U26">1</span>)</span> = <span class="mxinfo " id="T3:U27">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="16,9" id="srcline9"> 9</a></span><span class="line">        <span class="mxinfo " id="T3:U28"><span class="mxinfo " id="T3:U29"><span class="var type1" id="S6T4U47">P</span>(<span class="var type1" id="S10T3U48">s</span>, <span class="mxinfo " id="T3:U32">2</span>)</span> = <span class="mxinfo " id="T3:U33"><span class="var type1" id="S4T2U51">r</span>(<span class="mxinfo " id="T3:U35">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="16,10" id="srcline10">10</a></span><span class="line">        <span class="mxinfo " id="T3:U36"><span class="mxinfo " id="T3:U37"><span class="var type1" id="S6T4U56">P</span>(<span class="var type1" id="S10T3U57">s</span>, <span class="mxinfo " id="T3:U40">3</span>)</span> = <span class="var type1" id="S9T3U59">phi</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="16,11" id="srcline11">11</a></span><span class="line">    <span class="keyword">elseif</span> <span class="mxinfo " id="T5:U42"><span class="var type1" id="S10T3U62">s</span>==<span class="mxinfo " id="T3:U44">2</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="16,12" id="srcline12">12</a></span><span class="line">        <span class="mxinfo " id="T3:U45"><span class="mxinfo " id="T3:U46"><span class="var type1" id="S6T4U67">P</span>(<span class="var type1" id="S10T3U68">s</span>, <span class="mxinfo " id="T3:U49">1</span>)</span> = <span class="mxinfo " id="T3:U50"><span class="mxinfo " id="T3:U51"><span class="var type1" id="S6T4U72">P</span>(<span class="mxinfo " id="T3:U53"><span class="var type1" id="S10T3U74">s</span>-<span class="mxinfo " id="T3:U55">1</span></span>, <span class="mxinfo " id="T3:U56">1</span>)</span> + <span class="mxinfo " id="T3:U57"><span class="var type1" id="S5T3U78">delta</span>*<span class="mxinfo " id="T3:U59">cos(<span class="mxinfo " id="T3:U60"><span class="var type1" id="S4T2U82">r</span>(<span class="mxinfo " id="T3:U62">2</span>)</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="16,13" id="srcline13">13</a></span><span class="line">        <span class="mxinfo " id="T3:U63"><span class="mxinfo " id="T3:U64"><span class="var type1" id="S6T4U87">P</span>(<span class="var type1" id="S10T3U88">s</span>, <span class="mxinfo " id="T3:U67">2</span>)</span> = <span class="mxinfo " id="T3:U68"><span class="mxinfo " id="T3:U69"><span class="var type1" id="S6T4U92">P</span>(<span class="mxinfo " id="T3:U71"><span class="var type1" id="S10T3U94">s</span>-<span class="mxinfo " id="T3:U73">1</span></span>, <span class="mxinfo " id="T3:U74">2</span>)</span> + <span class="mxinfo " id="T3:U75"><span class="var type1" id="S5T3U98">delta</span>*<span class="mxinfo " id="T3:U77">sin(<span class="mxinfo " id="T3:U78"><span class="var type1" id="S4T2U102">r</span>(<span class="mxinfo " id="T3:U80">2</span>)</span>)</span></span></span></span>;  </span></span>
<span class="srcline"><span class="lineno"><a href="16,14" id="srcline14">14</a></span><span class="line">        <span class="mxinfo " id="T3:U81"><span class="mxinfo " id="T3:U82"><span class="var type1" id="S6T4U107">P</span>(<span class="var type1" id="S10T3U108">s</span>, <span class="mxinfo " id="T3:U85">3</span>)</span> = <span class="var type1" id="S9T3U110">phi</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="16,15" id="srcline15">15</a></span><span class="line">    <span class="keyword">else</span>        </span></span>
<span class="srcline"><span class="lineno"><a href="16,16" id="srcline16">16</a></span><span class="line">        <span class="mxinfo " id="T3:U87"><span class="var type1" id="S13T3U114">dw</span> = <span class="mxinfo " id="T3:U89"><span class="mxinfo " id="T3:U90">2</span>*<span class="mxinfo " id="T3:U91">acos(<span class="mxinfo " id="T3:U92"><span class="mxinfo " id="T3:U93"><span class="var type1" id="S5T3U121">delta</span>*<span class="mxinfo " id="T3:U95"><span class="var type1" id="S4T2U123">r</span>(<span class="var type1" id="S10T3U124">s</span>)</span></span>/<span class="mxinfo " id="T3:U98">2</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="16,17" id="srcline17">17</a></span><span class="line">        <span class="mxinfo " id="T3:U99"><span class="var type1" id="S9T3U128">phi</span> = <span class="mxinfo " id="T3:U101"><span class="mxinfo " id="T3:U102"><span class="var type1" id="S9T3U131">phi</span> - <span class="var type1" id="S13T3U132">dw</span></span> - <span class="mxinfo " id="T3:U105">pi</span></span></span>; <span class="comment">% -dw wegen VZ-Definition der Kr√ºmmung</span></span></span>
<span class="srcline"><span class="lineno"><a href="16,18" id="srcline18">18</a></span><span class="line">        <span class="mxinfo " id="T3:U106"><span class="mxinfo " id="T3:U107"><span class="var type1" id="S6T4U138">P</span>(<span class="var type1" id="S10T3U139">s</span>, <span class="mxinfo " id="T3:U110">1</span>)</span> = <span class="mxinfo " id="T3:U111"><span class="mxinfo " id="T3:U112"><span class="var type1" id="S6T4U143">P</span>(<span class="mxinfo " id="T3:U114"><span class="var type1" id="S10T3U145">s</span>-<span class="mxinfo " id="T3:U116">1</span></span>, <span class="mxinfo " id="T3:U117">1</span>)</span> + <span class="mxinfo " id="T3:U118"><span class="var type1" id="S5T3U149">delta</span>*<span class="mxinfo " id="T3:U120">cos(<span class="var type1" id="S9T3U152">phi</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="16,19" id="srcline19">19</a></span><span class="line">        <span class="mxinfo " id="T3:U122"><span class="mxinfo " id="T3:U123"><span class="var type1" id="S6T4U156">P</span>(<span class="var type1" id="S10T3U157">s</span>, <span class="mxinfo " id="T3:U126">2</span>)</span> = <span class="mxinfo " id="T3:U127"><span class="mxinfo " id="T3:U128"><span class="var type1" id="S6T4U161">P</span>(<span class="mxinfo " id="T3:U130"><span class="var type1" id="S10T3U163">s</span>-<span class="mxinfo " id="T3:U132">1</span></span>, <span class="mxinfo " id="T3:U133">2</span>)</span> + <span class="mxinfo " id="T3:U134"><span class="var type1" id="S5T3U167">delta</span>*<span class="mxinfo " id="T3:U136">sin(<span class="var type1" id="S9T3U170">phi</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="16,20" id="srcline20">20</a></span><span class="line">        <span class="mxinfo " id="T3:U138"><span class="mxinfo " id="T3:U139"><span class="var type1" id="S6T4U174">P</span>(<span class="var type1" id="S10T3U175">s</span>, <span class="mxinfo " id="T3:U142">3</span>)</span> = <span class="var type1" id="S9T3U177">phi</span></span>;     </span></span>
<span class="srcline"><span class="lineno"><a href="16,21" id="srcline21">21</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="16,22" id="srcline22">22</a></span><span class="line"><span class="keyword">end</span>  </span></span>
<span class="srcline"><span class="lineno"><a href="16,23" id="srcline23">23</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="16,24" id="srcline24">24</a></span><span class="line"><span class="mxinfo " id="T8:U144"><span class="var type1" id="S2T8U180">x</span> = <span class="mxinfo " id="T8:U146"><span class="var type1" id="S6T4U182">P</span>(:,<span class="mxinfo " id="T3:U148">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="16,25" id="srcline25">25</a></span><span class="line"><span class="mxinfo " id="T8:U149"><span class="var type1" id="S3T8U187">y</span> = <span class="mxinfo " id="T8:U151"><span class="var type1" id="S6T4U189">P</span>(:,<span class="mxinfo " id="T3:U153">2</span>)</span></span>;</span></span>
</pre>
